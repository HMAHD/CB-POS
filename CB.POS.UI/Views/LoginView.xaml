<Page
    x:Class="CB.POS.UI.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:CB.POS.UI.ViewModels"
    mc:Ignorable="d"
    Background="Transparent">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="400" />
        </Grid.ColumnDefinitions>

        <!-- Left Side: Branding -->
        <Grid Grid.Column="0" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="20">
                <!-- Placeholder Logo -->
                <FontIcon Glyph="&#xE71D;" FontSize="100" FontFamily="Segoe MDL2 Assets" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                <TextBlock Text="CB POS" FontSize="48" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="Industrial Point of Sale" FontSize="20" Opacity="0.6" HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <!-- Right Side: Login Numpad -->
        <Grid Grid.Column="1" Padding="40" Background="{ThemeResource LayerFillColorDefaultBrush}">
            <StackPanel VerticalAlignment="Center" Spacing="20">
                
                <TextBlock Text="Enter PIN" FontSize="24" FontWeight="SemiBold" HorizontalAlignment="Center"/>

                <!-- PIN Display -->
                <PasswordBox Password="{x:Bind ViewModel.PinInput, Mode=OneWay}" 
                             IsEnabled="False"
                             HorizontalAlignment="Stretch" 
                             HorizontalContentAlignment="Center"
                             FontSize="32"/>
                
                <!-- Error Message -->
                <TextBlock Text="{x:Bind ViewModel.ErrorMessage, Mode=OneWay}" 
                           Foreground="Red" 
                           HorizontalAlignment="Center" 
                           TextWrapping="Wrap"
                           Height="20"/>

                <!-- Numpad -->
                <Grid RowSpacing="10" ColumnSpacing="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Row 1 -->
                    <Button Content="1" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="1" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Column="1" Content="2" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="2" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Column="2" Content="3" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="3" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>

                    <!-- Row 2 -->
                    <Button Grid.Row="1" Content="4" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="4" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Row="1" Grid.Column="1" Content="5" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="5" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Row="1" Grid.Column="2" Content="6" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="6" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>

                    <!-- Row 3 -->
                    <Button Grid.Row="2" Content="7" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="7" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Row="2" Grid.Column="1" Content="8" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="8" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Row="2" Grid.Column="2" Content="9" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="9" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>

                    <!-- Row 4 -->
                    <Button Grid.Row="3" Content="⌫" Command="{x:Bind ViewModel.BackspaceCommand}" Style="{StaticResource DefaultButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Row="3" Grid.Column="1" Content="0" Command="{x:Bind ViewModel.AppendNumberCommand}" CommandParameter="0" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                    <Button Grid.Row="3" Grid.Column="2" Content="⏎" Command="{x:Bind ViewModel.LoginCommand}" Style="{StaticResource AccentButtonStyle}" Background="{ThemeResource SystemFillColorSuccessBrush}" HorizontalAlignment="Stretch" Height="60" FontSize="24" CornerRadius="30"/>
                </Grid>

            </StackPanel>
        </Grid>
    </Grid>
</Page>
